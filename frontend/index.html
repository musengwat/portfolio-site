<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>John Doe - Full Stack Developer | React, Node.js & Modern Web Technologies</title>
    <meta
      name="title"
      content="John Doe - Full Stack Developer | React, Node.js & Modern Web Technologies"
    />
    <meta
      name="description"
      content="Experienced Full Stack Developer specializing in React, Node.js, and modern web technologies. 5+ years creating scalable applications and exceptional user experiences. Available for hire."
    />
    <meta
      name="keywords"
      content="full stack developer, react developer, nodejs developer, javascript developer, web developer, portfolio, san francisco developer, freelance developer"
    />
    <meta name="author" content="John Doe" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://johndoe-portfolio.com" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://johndoe-portfolio.com" />
    <meta property="og:title" content="John Doe - Full Stack Developer Portfolio" />
    <meta
      property="og:description"
      content="Experienced Full Stack Developer specializing in React, Node.js, and modern web technologies. View my portfolio and get in touch for your next project."
    />
    <meta property="og:image" content="https://johndoe-portfolio.com/assets/images/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="John Doe - Full Stack Developer Portfolio" />
    <meta property="og:site_name" content="John Doe Portfolio" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://johndoe-portfolio.com" />
    <meta property="twitter:title" content="John Doe - Full Stack Developer Portfolio" />
    <meta
      property="twitter:description"
      content="Experienced Full Stack Developer specializing in React, Node.js, and modern web technologies. View my portfolio and get in touch."
    />
    <meta
      property="twitter:image"
      content="https://johndoe-portfolio.com/assets/images/twitter-card.jpg"
    />
    <meta property="twitter:image:alt" content="John Doe - Full Stack Developer Portfolio" />
    <meta property="twitter:creator" content="@johndoe" />
    <meta property="twitter:site" content="@johndoe" />

    <!-- LinkedIn -->
    <meta property="article:author" content="https://linkedin.com/in/johndoe" />

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="msapplication-TileColor" content="#2563eb" />
    <meta name="theme-color" content="#2563eb" />

    <!-- PWA Meta Tags -->
    <meta name="application-name" content="John Doe Portfolio" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="John Doe Portfolio" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <meta name="msapplication-tap-highlight" content="no" />

    <!-- Performance Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://api.johndoe-portfolio.com" />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "John Doe",
        "jobTitle": "Full Stack Developer",
        "description": "Experienced Full Stack Developer specializing in React, Node.js, and modern web technologies",
        "url": "https://johndoe-portfolio.com",
        "image": "https://johndoe-portfolio.com/assets/images/profile-photo.jpg",
        "email": "john@example.com",
        "telephone": "+1-555-123-4567",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "San Francisco",
          "addressRegion": "CA",
          "addressCountry": "US"
        },
        "sameAs": [
          "https://linkedin.com/in/johndoe",
          "https://github.com/johndoe",
          "https://twitter.com/johndoe"
        ],
        "worksFor": {
          "@type": "Organization",
          "name": "Freelance"
        },
        "alumniOf": {
          "@type": "EducationalOrganization",
          "name": "University of California, Berkeley"
        },
        "knowsAbout": [
          "JavaScript",
          "React",
          "Node.js",
          "TypeScript",
          "MongoDB",
          "PostgreSQL",
          "AWS",
          "Docker",
          "Kubernetes"
        ],
        "hasOccupation": {
          "@type": "Occupation",
          "name": "Full Stack Developer",
          "occupationLocation": {
            "@type": "City",
            "name": "San Francisco"
          },
          "estimatedSalary": {
            "@type": "MonetaryAmountDistribution",
            "name": "base",
            "currency": "USD",
            "duration": "P1Y",
            "percentile25": 120000,
            "median": 150000,
            "percentile75": 180000
          }
        }
      }
    </script>

    <!-- Professional Portfolio Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "John Doe Portfolio",
        "description": "Full Stack Developer Portfolio showcasing React, Node.js, and modern web development projects",
        "url": "https://johndoe-portfolio.com",
        "author": {
          "@type": "Person",
          "name": "John Doe"
        },
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://johndoe-portfolio.com/search?q={search_term_string}",
          "query-input": "required name=search_term_string"
        },
        "mainEntity": {
          "@type": "ProfilePage",
          "dateCreated": "2024-01-01",
          "dateModified": "2024-12-01",
          "mainEntity": {
            "@type": "Person",
            "name": "John Doe"
          }
        }
      }
    </script>

    <!-- Google Analytics (Replace with your tracking ID) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX', {
        page_title: document.title,
        page_location: window.location.href,
        anonymize_ip: true,
        allow_google_signals: false,
        allow_ad_personalization_signals: false,
      });
    </script>

    <!-- Hotjar Tracking Code (Optional - Replace with your site ID) -->
    <!-- <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:XXXXXXX,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script> -->

    <!-- Critical CSS (Above the fold styles) -->
    <style>
      /* Critical CSS for immediate render */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
        font-size: 16px;
      }
      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          sans-serif;
        line-height: 1.6;
        color: #0f172a;
        background-color: #ffffff;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
      }
      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #eff6ff 0%, #f8fafc 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s ease;
      }
      .loading-spinner {
        width: 48px;
        height: 48px;
        border: 4px solid #e2e8f0;
        border-top: 4px solid #2563eb;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
      /* Dark theme support */
      @media (prefers-color-scheme: dark) {
        body {
          color: #f8fafc;
          background-color: #0f0f23;
        }
        .loading-screen {
          background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%);
        }
      }
    </style>

    <!-- Preload critical resources -->
    <link rel="preload" href="/assets/images/profile-photo.jpg" as="image" type="image/jpeg" />
    <link
      rel="preload"
      href="/assets/fonts/inter-var.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <!-- Security Headers -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://static.hotjar.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://api.johndoe-portfolio.com https://www.google-analytics.com; frame-src 'none'; object-src 'none'; base-uri 'self'; form-action 'self';"
    />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    <meta
      http-equiv="Permissions-Policy"
      content="camera=(), microphone=(), geolocation=(), interest-cohort=()"
    />
  </head>
  <body>
    <!-- Skip to main content link for accessibility -->
    <a
      href="#main-content"
      class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded focus:outline-none"
    >
      Skip to main content
    </a>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen" aria-hidden="true">
      <div class="loading-spinner" role="status" aria-label="Loading portfolio"></div>
    </div>

    <!-- React App Root -->
    <div id="root" role="main" aria-label="John Doe Portfolio Website"></div>

    <!-- Main content landmark for screen readers -->
    <main id="main-content" class="sr-only">
      <h1>John Doe - Full Stack Developer Portfolio</h1>
      <p>
        Welcome to my portfolio showcasing my expertise in React, Node.js, and modern web
        technologies.
      </p>
    </main>

    <!-- NoScript fallback -->
    <noscript>
      <div style="padding: 2rem; text-align: center; font-family: Arial, sans-serif">
        <h1>John Doe - Full Stack Developer</h1>
        <p>
          This portfolio website requires JavaScript to function properly. Please enable JavaScript
          in your browser to view the full experience.
        </p>
        <p>You can still contact me directly:</p>
        <ul style="list-style: none; padding: 0">
          <li>📧 Email: <a href="mailto:john@example.com">john@example.com</a></li>
          <li>📞 Phone: <a href="tel:+15551234567">+1 (555) 123-4567</a></li>
          <li>
            💼 LinkedIn:
            <a href="https://linkedin.com/in/johndoe" target="_blank">linkedin.com/in/johndoe</a>
          </li>
          <li>
            🐙 GitHub: <a href="https://github.com/johndoe" target="_blank">github.com/johndoe</a>
          </li>
        </ul>
        <p><a href="/assets/resume/john-doe-resume.pdf" download>Download my resume (PDF)</a></p>
      </div>
    </noscript>

    <!-- Service Worker Registration -->
    <script>
      // Remove loading screen once page is loaded
      window.addEventListener('load', function () {
        const loadingScreen = document.getElementById('loading-screen');
        if (loadingScreen) {
          setTimeout(() => {
            loadingScreen.style.opacity = '0';
            setTimeout(() => {
              loadingScreen.style.display = 'none';
            }, 500);
          }, 1000);
        }
      });

      // Register service worker for PWA functionality
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker
            .register('/sw.js')
            .then(function (registration) {
              console.log('SW registered: ', registration);
            })
            .catch(function (registrationError) {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }

      // Theme detection and persistence
      (function () {
        const theme =
          localStorage.getItem('portfolio-theme') ||
          (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();

      // Performance monitoring
      if ('PerformanceObserver' in window) {
        const observer = new PerformanceObserver(list => {
          for (const entry of list.getEntries()) {
            if (entry.entryType === 'navigation') {
              // Track page load performance
              gtag &&
                gtag('event', 'page_load_time', {
                  event_category: 'performance',
                  value: Math.round(entry.loadEventEnd - entry.loadEventStart),
                });
            }
          }
        });
        observer.observe({ entryTypes: ['navigation'] });
      }

      // Error tracking
      window.addEventListener('error', function (e) {
        gtag &&
          gtag('event', 'exception', {
            description: e.error?.message || 'Unknown error',
            fatal: false,
          });
      });

      // Unhandled promise rejection tracking
      window.addEventListener('unhandledrejection', function (e) {
        gtag &&
          gtag('event', 'exception', {
            description: e.reason?.message || 'Unhandled promise rejection',
            fatal: false,
          });
      });
    </script>

    <!-- Module Script for modern browsers -->
    <script type="module" src="/src/main.jsx"></script>

    <!-- Fallback for legacy browsers -->
    <script nomodule>
      console.warn(
        'Your browser does not support ES modules. Please update to a modern browser for the best experience.'
      );
    </script>
  </body>
</html>
